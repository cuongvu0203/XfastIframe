@page
@model PlayerModel
@{
    ViewData["Title"] = "Iframe player";
}
<div id="player"></div>
<script>
    var player = jwplayer("player");  // instantiate the player
    player.setup({
        file: 'https://xfast.sbs/media/0/0/00958f10be274a05d20cad75e3ec859f/note.txt',
        autostart: false,
        type: "hls",
        controls: true,
        controlbar: true,
        width: '100%',
        aspectratio: '16:9',
        primary: "HTML5",
        debug: true
    });

    player.on("error", function (a) {
        console.log("Error detected");
        // Add your error-handling logic here
    });
</script>
@* <script>
    function ios() {
        return /iPad|iPhone|iPod/.test(window.navigator.userAgent) && !window.MSStream;
    }
    var gt = ios();
    var try_again = 0,
        file_play = "https://xfast.sbs/media/c/d/cd8f005cb9271ec6200608c6ab8f2063/note.xt",
        file_preview = "https://xfast.sbs/media/c/d/cd8f005cb9271ec6200608c6ab8f2063/preview.jpg",
    player = jwplayer("player");
    player.setup({
        file: file_play,
        image: file_preview,
        autostart: 1,
        type: "m3u8",
        width: "100%",
        height: "100%",
        aspectRatio: "16:9"
    });
    player.on("error", function (a) {
        console.log(111);
        1 > try_again ? (file_play = ios() ? "/media/c/d/cd8f005cb9271ec6200608c6ab8f2063/stream.m3u8" : "/media/c/d/cd8f005cb9271ec6200608c6ab8f2063/note.txt") : ((file_play = "/media/c/d/cd8f005cb9271ec6200608c6ab8f2063/stream.m3u8"), (try_again += 1));
        player.load(
            {
                file: file_play,
                image: file_preview,
                autostart: !1,
                type: "hls",
                width: "100%",
                height: "100%",
                aspectRatio: "16:9"
            }
        );
    });
</script> *@